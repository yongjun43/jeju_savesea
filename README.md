# 🌊 포리롱바당 (PorirongBadang)

> **제주 해양 쓰레기 발생 지역 탐지 및 위치 기반 예측 서비스**  
> 위성 이미지, CCTV, POI 데이터를 기반으로 한 소형 객체 탐지 + 초해상도 복원 + 위치 기반 최적 경로 제공 AI 프로젝트

---

## 🧭 프로젝트 선정 동기

최근 5년간 제주에서 수거된 해양 쓰레기는 **전국 수거량의 13%**인 5만 톤을 넘었으며,  
폭우와 태풍으로 인한 쓰레기 유입도 매년 **10% 이상 증가**하고 있습니다.  

이에 따라 **하량별 팀은 제주 해양 쓰레기의 선제적 대응을 위한 데이터 기반 솔루션**을 기획했습니다.

---

## 🛠️ 프로젝트 개요

**포리롱바당**은 다음과 같은 기능을 제공합니다:

1. 위성 및 CCTV 기반 **해양 쓰레기 탐지**
2. 해수욕장, 항·포구, 낚시 포인트 등 **쓰레기 발생 지역 자동 탐지**
3. 사용자의 위치 기반으로 가장 가까운 **쓰레기 발생 지점 추천**
4. 해당 위치에서 가장 가까운 **재활용장까지의 경로 안내**

> 📌 이 서비스는 해양 환경 봉사단, 공공기관, ESG 활동 기업 등에서 바로 활용 가능하도록 설계되었습니다.

---

## 📊 사용한 데이터

| 구분 | 내용 |
|------|------|
| 위성 데이터 | AI Factory 제공 고해상도 위성 이미지 |
| CCTV | 해수욕장·포구 등 공공 CCTV 프레임 |
| COCO | 사람/쓰레기 객체 탐지용 사전 학습 데이터 |
| Roboflow | 차량 객체 위성 탐지 데이터 |
| DOTA | 위성 기반 Tiny Object 차량 검출용 |

QGIS를 활용해 제주 해안 지역의 객체 분포를 사전 확인하였고,  
객체 수가 적은 경우에는 Roboflow 및 DOTA 데이터로 **전이 학습**을 수행했습니다.

---

## 🧠 사용 모델 및 기술

### 🔹 객체 탐지 모델: `HSP-YOLOv8`
소형 객체 탐지에 특화된 YOLOv8 커스텀 모델  
> **논문 기반 직접 구현**

**📌 주요 기능**
- ✅ **소형 예측 헤드**: 저해상도 특성맵에서 정확도 향상  
- ✅ **공간-깊이 합성곱**: 정보 손실 최소화  
- ✅ **Soft-NMS**: 밀집 객체 구간에서 탐지 향상

### 🔹 고해상도 복원 모델 (SR)

| 모델 | 설명 |
|------|------|
| NAFNet | 비선형성 최소화, 블러 제거, SSID 노이즈 제거 |
| EDSR | 단순하고 깊은 구조, DIV2K 기반 PSNR 33.833 |
| HAT | 채널 어텐션 + 셀프 어텐션 (사용성 낮아 제외) |

**→ 실제 실험에서는 NAFNet + EDSR 조합이 가장 좋은 복원 효과를 보였음**

---

## 📈 학습 결과

- 💻 **A100 GPU 사용**, 50 epoch, 총 학습 시간: 약 9시간
- 학습 단계별 손실 감소:
  - **Box Loss 감소** → 위치 정확도 향상
  - **Train/Val Loss** → 전반적인 일반화 능력 향상
  - **Obj Loss** → 객체 존재 여부 예측 정확도 향상
- **정밀도, 재현율, mAP 모두 개선**

> 초기 모델 대비 개선된 결과를 시각적으로 확인할 수 있음 (좌: 초기 / 우: 개선 모델 결과)

---


## 🗺️ 사용자 위치 기반 POI 추천 기능

### 📌 기능 설명

| 기능 | 설명 |
|------|------|
| 거리 계산 | 위경도 간 거리 계산 (km 단위) |
| 가장 가까운 청소구역 찾기 | 사용자의 현재 위치에서 가장 가까운 쓰레기 발생 지점 탐색 |
| 가장 가까운 재활용장 찾기 | 청소구역 기준 재활용장 위치 탐색 및 연결 경로 제공 |

📱 위치 기반 서비스와의 연계성을 높여  
모바일 지도 서비스, 물류, 봉사단체 활동 등에 쉽게 적용 가능합니다.

---

## 🖼️ 예시 결과 이미지

| 초기 탐지 결과 | 개선된 탐지 결과 |
|----------------|------------------|
| ![](assets/initial_detection.png) | ![](assets/improved_detection.png) |

| SR 전 | SR 후 (NAFNet + EDSR) |
|------|------------------------|
| ![](assets/lowres.png) | ![](assets/sr_output.png) |

---

## 📁 폴더 구조

```
jeju_savesea/
├── HSP-yolov8/              # 소형 객체 탐지 모델 (YOLOv8 기반)
├── SR/                      # 초해상도 복원 (EDSR, NAFNet, HAT)
├── POIRecommender/          # POI 기반 쓰레기 유입 예측
├── mysite/                  # 지도 기반 시각화 프론트엔드
├── jeju_icon/               # 시각화용 아이콘
├── assets/                  # 결과 이미지 저장소
├── data/                    # 샘플 이미지 / 메타 정보
├── scripts/                 # 탐지/예측 실행 스크립트
└── README.md                # 본 문서
```

---

## 🧾 requirements.txt (예시)

```txt
torch>=2.0
ultralytics
opencv-python
numpy
pandas
timm
albumentations
einops
matplotlib
streamlit
```

---

## 🙋 팀 소개

| 이름 | 역할 |
|------|------|
| 유용준 | 발표 및 탐지 모델 구현, POI 기반 추천 로직 설계 |
| 팀원 A | 초해상도 복원 실험, 웹 시각화 프론트 엔드 |

> 2024 제주 위성 활용 공모전 본선 진출 🏅

---
